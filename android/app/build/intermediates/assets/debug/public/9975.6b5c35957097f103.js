"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9975],{9975:(f,u,s)=>{s.r(u),s.d(u,{AddTransactionPageModule:()=>M});var p=s(177),c=s(4341),a=s(9465),g=s(8986),h=s(1626),n=s(3953);const m=[{path:"",component:(()=>{var e;class d{constructor(i,t){this.router=i,this.http=t,this.amount=0,this.category="",this.notes="",this.location="",this.addTransactionError="";const r=localStorage.getItem("userId");this.userId=r?+r:void 0,this.date=(new Date).toISOString().split("T")[0]}addTransaction(){this.amount&&this.category&&this.date&&this.location?this.http.post("http://20.37.211.153/finance-tracker/add-transaction.php",{amount:this.amount,category:this.category,date:this.date,notes:this.notes,location:this.location,user_id:this.userId},{headers:new h.Lr({"Content-Type":"application/json"})}).subscribe(t=>{t.success?(this.addTransactionError="",console.log("Transaction added successfully:",t),alert("Transaction added successfully"),this.router.navigate(["/expense-tracker"],{queryParams:{refresh:!0}}),this.amount=0,this.category="",this.date=(new Date).toISOString().split("T")[0],this.notes="",this.location=""):(this.addTransactionError=t.error||"Unknown error occurred.",console.error("Failed to add transaction:",this.addTransactionError),alert("Failed to add transaction: "+this.addTransactionError))},t=>{console.error("An error occurred:",t),this.addTransactionError="An error occurred, please try again later.",alert(this.addTransactionError)}):alert("Please fill in all required fields.")}}return(e=d).\u0275fac=function(i){return new(i||e)(n.rXU(g.Ix),n.rXU(h.Qq))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-add-transaction"]],decls:39,vars:5,consts:[["slot","start"],["defaultHref","/expense-tracker",2,"color","white"],[2,"color","white"],[1,"ion-padding"],["position","stacked",2,"color","white"],["type","number",2,"color","white",3,"ngModelChange","ngModel"],[2,"color","white",3,"ngModelChange","ngModel"],["value","Food"],["value","Transport"],["value","Shopping"],["value","Bills"],["value","Others"],["display-format","YYYY-MM-DD",2,"color","white",3,"ngModelChange","ngModel"],["rows","3",2,"color","white",3,"ngModelChange","ngModel"],["type","text",2,"color","white",3,"ngModelChange","ngModel"],["expand","block",3,"click"]],template:function(i,t){1&i&&(n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n.nrm(3,"ion-back-button",1),n.k0s(),n.j41(4,"ion-title",2),n.EFF(5," Add Transaction "),n.k0s()()(),n.j41(6,"ion-content",3)(7,"ion-item")(8,"ion-label",4),n.EFF(9,"Amount"),n.k0s(),n.j41(10,"ion-input",5),n.mxI("ngModelChange",function(o){return n.DH7(t.amount,o)||(t.amount=o),o}),n.k0s()(),n.j41(11,"ion-item")(12,"ion-label",4),n.EFF(13,"Category"),n.k0s(),n.j41(14,"ion-select",6),n.mxI("ngModelChange",function(o){return n.DH7(t.category,o)||(t.category=o),o}),n.j41(15,"ion-select-option",7),n.EFF(16,"Food"),n.k0s(),n.j41(17,"ion-select-option",8),n.EFF(18,"Transport"),n.k0s(),n.j41(19,"ion-select-option",9),n.EFF(20,"Shopping"),n.k0s(),n.j41(21,"ion-select-option",10),n.EFF(22,"Bills"),n.k0s(),n.j41(23,"ion-select-option",11),n.EFF(24,"Others"),n.k0s()()(),n.j41(25,"ion-item")(26,"ion-label",4),n.EFF(27,"Date"),n.k0s(),n.j41(28,"ion-datetime",12),n.mxI("ngModelChange",function(o){return n.DH7(t.date,o)||(t.date=o),o}),n.k0s()(),n.j41(29,"ion-item")(30,"ion-label",4),n.EFF(31,"Notes"),n.k0s(),n.j41(32,"ion-textarea",13),n.mxI("ngModelChange",function(o){return n.DH7(t.notes,o)||(t.notes=o),o}),n.k0s()(),n.j41(33,"ion-item")(34,"ion-label",4),n.EFF(35,"Location"),n.k0s(),n.j41(36,"ion-input",14),n.mxI("ngModelChange",function(o){return n.DH7(t.location,o)||(t.location=o),o}),n.k0s()(),n.j41(37,"ion-button",15),n.bIt("click",function(){return t.addTransaction()}),n.EFF(38,"Add Transaction"),n.k0s()()),2&i&&(n.R7$(10),n.R50("ngModel",t.amount),n.R7$(4),n.R50("ngModel",t.category),n.R7$(14),n.R50("ngModel",t.date),n.R7$(4),n.R50("ngModel",t.notes),n.R7$(4),n.R50("ngModel",t.location))},dependencies:[c.BC,c.vS,a.Jm,a.QW,a.W9,a.A9,a.eU,a.$w,a.uz,a.he,a.Nm,a.Ip,a.nc,a.BC,a.ai,a.su,a.Je,a.Gw,a.el],styles:["page-add-transaction[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{margin-right:8px}.white-text[_ngcontent-%COMP%]{color:#fff}ion-item[_ngcontent-%COMP%]{--background: #212121;--ion-color-base: #303030}ion-datetime[_ngcontent-%COMP%]{margin:20px 5px;--background: #303030}"]}),d})()}];let T=(()=>{var e;class d{}return(e=d).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[g.iI.forChild(m),g.iI]}),d})(),M=(()=>{var e;class d{}return(e=d).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[p.MD,c.YN,a.bv,T]}),d})()}}]);
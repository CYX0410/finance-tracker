"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5123],{5123:(T,u,r)=>{r.r(u),r.d(u,{EditTransactionPageModule:()=>M});var h=r(177),l=r(4341),i=r(9465),g=r(8986),t=r(3953),m=r(1626);const p=[{path:"",component:(()=>{var o;class s{constructor(a,n,c){this.route=a,this.router=n,this.http=c,this.transaction={amount:0,category:"",date:"",notes:"",location:"",user_id:0}}ngOnInit(){const a=this.route.snapshot.paramMap.get("id");if(a){const n=parseInt(a,10);isNaN(n)?console.error("Invalid transaction ID:",a):this.getTransaction(n)}else console.error("Transaction ID not found in route parameters")}getTransaction(a){this.http.get(`http://20.37.211.153/finance-tracker/get-transaction.php?transaction_id=${a}`).subscribe(n=>{n&&n.length>0&&(this.transaction=n[0],this.transaction.date=this.formatDateForIonDatetime(this.transaction.date))},n=>{console.error("Error fetching transaction:",n)})}formatDateForIonDatetime(a){return a.replace(" ","T")}saveTransaction(){this.transaction.amount&&this.transaction.category&&this.transaction.date&&this.transaction.location?(this.transaction.date=this.transaction.date.replace("T"," "),this.http.post("http://20.37.211.153/finance-tracker/update-transaction.php",this.transaction).subscribe(()=>{this.router.navigate(["/expense-tracker"])},a=>{console.error("Error updating transaction:",a)})):alert("Please fill in all required fields.")}}return(o=s).\u0275fac=function(a){return new(a||o)(t.rXU(g.nX),t.rXU(g.Ix),t.rXU(m.Qq))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-edit-transaction"]],decls:40,vars:5,consts:[["slot","start"],["defaultHref","/expense-tracker",2,"color","white"],[2,"color","white"],[3,"ngSubmit"],["position","floating",2,"color","white"],["name","amount","type","number",2,"color","white",3,"ngModelChange","ngModel"],["name","category",2,"color","white",3,"ngModelChange","ngModel"],["value","Food"],["value","Transport"],["value","Shopping"],["value","Bills"],["value","Others"],["display-format","YYYY-MM-DDTHH:mm:ss","name","date",2,"color","white",3,"ngModelChange","ngModel"],["name","notes",2,"color","white",3,"ngModelChange","ngModel"],["name","location",2,"color","white",3,"ngModelChange","ngModel"],["expand","full","type","submit"]],template:function(a,n){1&a&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button",1),t.k0s(),t.j41(4,"ion-title",2),t.EFF(5,"Edit Transaction"),t.k0s()()(),t.j41(6,"ion-content")(7,"form",3),t.bIt("ngSubmit",function(){return n.saveTransaction()}),t.j41(8,"ion-item")(9,"ion-label",4),t.EFF(10,"Amount"),t.k0s(),t.j41(11,"ion-input",5),t.mxI("ngModelChange",function(e){return t.DH7(n.transaction.amount,e)||(n.transaction.amount=e),e}),t.k0s()(),t.j41(12,"ion-item")(13,"ion-label",4),t.EFF(14,"Category"),t.k0s(),t.j41(15,"ion-select",6),t.mxI("ngModelChange",function(e){return t.DH7(n.transaction.category,e)||(n.transaction.category=e),e}),t.j41(16,"ion-select-option",7),t.EFF(17,"Food"),t.k0s(),t.j41(18,"ion-select-option",8),t.EFF(19,"Transport"),t.k0s(),t.j41(20,"ion-select-option",9),t.EFF(21,"Shopping"),t.k0s(),t.j41(22,"ion-select-option",10),t.EFF(23,"Bills"),t.k0s(),t.j41(24,"ion-select-option",11),t.EFF(25,"Others"),t.k0s()()(),t.j41(26,"ion-item")(27,"ion-label",4),t.EFF(28,"Date"),t.k0s(),t.j41(29,"ion-datetime",12),t.mxI("ngModelChange",function(e){return t.DH7(n.transaction.date,e)||(n.transaction.date=e),e}),t.k0s()(),t.j41(30,"ion-item")(31,"ion-label",4),t.EFF(32,"Notes"),t.k0s(),t.j41(33,"ion-input",13),t.mxI("ngModelChange",function(e){return t.DH7(n.transaction.notes,e)||(n.transaction.notes=e),e}),t.k0s()(),t.j41(34,"ion-item")(35,"ion-label",4),t.EFF(36,"Location"),t.k0s(),t.j41(37,"ion-input",14),t.mxI("ngModelChange",function(e){return t.DH7(n.transaction.location,e)||(n.transaction.location=e),e}),t.k0s()(),t.j41(38,"ion-button",15),t.EFF(39,"Save"),t.k0s()()()),2&a&&(t.R7$(11),t.R50("ngModel",n.transaction.amount),t.R7$(4),t.R50("ngModel",n.transaction.category),t.R7$(14),t.R50("ngModel",n.transaction.date),t.R7$(4),t.R50("ngModel",n.transaction.notes),t.R7$(4),t.R50("ngModel",n.transaction.location))},dependencies:[l.qT,l.BC,l.cb,l.vS,l.cV,i.Jm,i.QW,i.W9,i.A9,i.eU,i.$w,i.uz,i.he,i.Nm,i.Ip,i.BC,i.ai,i.su,i.Je,i.Gw,i.el],styles:[".white-text[_ngcontent-%COMP%]{color:#fff}ion-item[_ngcontent-%COMP%]{--background: #212121;--ion-color-base: #303030}ion-datetime[_ngcontent-%COMP%]{margin:20px 5px;--background: #303030}"]}),s})()}];let f=(()=>{var o;class s{}return(o=s).\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[g.iI.forChild(p),g.iI]}),s})(),M=(()=>{var o;class s{}return(o=s).\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[h.MD,l.YN,i.bv,f]}),s})()}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(M,c,i)=>{i.r(c),i.d(c,{LoginPageModule:()=>L});var p=i(177),u=i(4341),t=i(9465),l=i(8986),o=i(3953),h=i(1626);const m=[{path:"",component:(()=>{var n;class a{constructor(r,e){this.router=r,this.http=e,this.username="",this.password="",this.loginError=""}login(){this.http.post("http://20.37.211.153/finance-tracker/login.php",{username:this.username,password:this.password}).subscribe(e=>{e.success&&e.user_id?(this.loginError="",console.log("Login successful:",e),alert("Login successful"),localStorage.setItem("userId",e.user_id.toString()),this.router.navigate(["/expense-tracker"])):(this.loginError=e.error||"Unknown error occurred.",console.error("Login failed:",this.loginError),alert("Login failed: "+this.loginError))},e=>{console.error("An error occurred:",e),this.loginError="An error occurred, please try again later.",alert(this.loginError)})}}return(n=a).\u0275fac=function(r){return new(r||n)(o.rXU(l.Ix),o.rXU(h.Qq))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login"]],decls:25,vars:3,consts:[[2,"color","white"],[1,"ion-padding"],["position","floating",2,"color","white"],["type","text",2,"color","white",3,"ngModelChange","ngModel"],["type","password",2,"color","white",3,"ngModelChange","ngModel"],["expand","block",3,"click"],["routerLink","/register"],["routerLink","/recover"]],template:function(r,e){1&r&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),o.EFF(3," Login "),o.k0s()()(),o.j41(4,"ion-content",1)(5,"ion-item")(6,"ion-label",2),o.EFF(7,"Username"),o.k0s(),o.j41(8,"ion-input",3),o.mxI("ngModelChange",function(s){return o.DH7(e.username,s)||(e.username=s),s}),o.k0s()(),o.j41(9,"ion-item")(10,"ion-label",2),o.EFF(11,"Password"),o.k0s(),o.j41(12,"ion-input",4),o.mxI("ngModelChange",function(s){return o.DH7(e.password,s)||(e.password=s),s}),o.k0s()(),o.j41(13,"ion-button",5),o.bIt("click",function(){return e.login()}),o.EFF(14,"Login"),o.k0s(),o.j41(15,"p",0),o.EFF(16,"Don't have an account? "),o.j41(17,"a",6),o.EFF(18,"Register here"),o.k0s()(),o.j41(19,"p",0),o.EFF(20,"Forgot your password? "),o.j41(21,"a",7),o.EFF(22,"Recover it here"),o.k0s()(),o.j41(23,"p",0),o.EFF(24),o.k0s()()),2&r&&(o.R7$(8),o.R50("ngModel",e.username),o.R7$(4),o.R50("ngModel",e.password),o.R7$(12),o.JRh(e.loginError))},dependencies:[u.BC,u.vS,t.Jm,t.W9,t.eU,t.$w,t.uz,t.he,t.BC,t.ai,t.Gw,t.oY,l.Wk],styles:[".gray-text[_ngcontent-%COMP%]{color:#f0f0f0}ion-item[_ngcontent-%COMP%]{--background: #212121;--ion-color-base: #303030}ion-input[_ngcontent-%COMP%]::part(native)::placeholder{color:#000}"]}),a})()}];let f=(()=>{var n;class a{}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[l.iI.forChild(m),l.iI]}),a})(),L=(()=>{var n;class a{}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[p.MD,u.YN,t.bv,f]}),a})()}}]);